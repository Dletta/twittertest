var Gun = require('gun/gun');
//require('gun/lib/file');
//Gun.serve = require('gun/lib/serve');
//require('gun/lib/ws');
require('..');


var port = 0

var gun = Gun({
  'file-name' : 'data.json',  
  'file-pretty' : true, 				
   //web: server
});
//server.listen(port);
console.log('Server started on port ' + port + ' with /gun');

var test = gun.get('testSoul').put({x:'x value'})
var test2 = gun.get('testSoul');

test.val(node => {
        console.log("test1",'Gun.node.is(node) :',Gun.node.is(node) )
	console.log("test1",JSON.stringify(node))
	console.log("test1",node)
	console.log("test1",'node.x : ',node.x)
	console.log("test1",'node._ : ',node._)
})

test2.val(node => {
        console.log("test2", 'Gun.node.is(node) :',Gun.node.is(node) )
	console.log("test2", JSON.stringify(node))
	console.log("test2", node)
	console.log("test2", 'node.x : ',node.x)
	console.log("test2", 'node._ : ',node._)
})


/* output */
//Gun.node.is(node) : false
//{"testSoul":{"_":{"#":"testSoul",">":{"x":1512422015790}},"x":"x value"}}
//node.x :  undefined
//node._ :  undefined